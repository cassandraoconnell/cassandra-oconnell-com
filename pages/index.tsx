import { InferGetServerSidePropsType } from "next";
import Head from "next/head";
import { Divider } from "@/components/Divider/Divider";
import { Footer } from "@/sections/Footer/Footer";
import { Header } from "@/sections/Header/Header";
import { IntroSection } from "@/sections/Intro/Intro";
import { TechStackSection } from "@/sections/TechStack/TechStack";
import { TimelineSection } from "@/sections/Timeline/Timeline";
import { Timeline } from "@/types/Timeline";
import "@/style/global.css";

export default function Home({
  data,
}: InferGetServerSidePropsType<typeof getServerSideProps>) {
  return (
    <>
      <Head>
        <title>{"Cassandra O'Connell"}</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link
          rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘‹</text></svg>"
        />
      </Head>
      <>
        <Header />
        <IntroSection />
        <Divider />
        <TechStackSection />
        <Divider />
        <TimelineSection timeline={data.timeline} />
        <Footer />
      </>
    </>
  );
}

export const getServerSideProps = async () => {
  const timeline: Timeline = {
    discoveries: [],
    experiences: [
      {
        company: "mmhmm",
        description:
          "Architected a WebGL video chat, editing, and recording app from scratch as the teamâ€™s technical lead, wrote software proposals and documentation, advised other teams on architectural decisions and codebase performance optimizations.",
        end: null,
        job: "Staff Software Engineer, Technical Lead",
        logo: "TODO",
        start: new Date("March 1, 2022 00:00:00").getTime(),
      },
      {
        company: "Losant",
        description:
          "Sat as both the technical and managerial lead for the front end team, coordinated feature planning and development, initiated and implemented significant architectural/performance enhancements, developed features, performed code review, advised teams developing Rust projects.",
        end: new Date("March 1, 2022 00:00:00").getTime(),
        job: "Lead Front End Software Engineer",
        logo: "TODO",
        start: new Date("March 1, 2021 00:00:00").getTime(),
      },
      // TODO
      {
        company: "Real Art",
        description: null,
        end: new Date("December 1, 2016 00:00:00").getTime(),
        job: "Designer",
        logo: "TODO",
        start: new Date("June 1, 2013 00:00:00").getTime(),
      },
    ],
  };

  return {
    props: {
      data: {
        timeline,
      },
    },
  };
};
